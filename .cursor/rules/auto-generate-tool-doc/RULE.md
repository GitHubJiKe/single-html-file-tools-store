# Rule: 自动生成工具文档

## 触发条件
当项目中新增一个单文件 HTML 工具时（例如：`xxx-tool.html`），自动生成对应的 Markdown 文档（`xxx-tool.md`）。

## 规则说明
每个 HTML 工具都应该有一个对应的文档文件，用于描述工具的功能、技术实现和使用说明。

## 文档命名规则
- HTML 文件：`tool-name.html`
- 文档文件：`tool-name.md`
- 位置：与 HTML 文件在同一目录

## 文档模板结构

```markdown
# [工具名称]

**文件名**: `xxx-tool.html`  
**创建日期**: YYYY-MM-DD  
**最后更新**: YYYY-MM-DD  
**代码行数**: XXX 行  

---

## 📋 工具简介

[简要描述工具的用途和核心功能]

---

## 🎯 核心功能

### 功能列表
1. **功能 1** - 描述
2. **功能 2** - 描述
3. **功能 3** - 描述

### 功能详情
- **功能点 1**
  - 实现方式：[描述]
  - 用户交互：[描述]
  
- **功能点 2**
  - 实现方式：[描述]
  - 用户交互：[描述]

---

## 🔗 外部依赖

### CDN 链接
| 库名称 | 版本 | CDN 链接 | 用途 |
|--------|------|----------|------|
| [库名] | x.x.x | https://... | [用途说明] |

### 依赖说明
- **[库名]**: [为什么使用这个库，它解决了什么问题]

---

## 💻 核心实现逻辑

### 技术栈
- HTML5
- CSS3
- JavaScript (ES6+)
- [其他技术]

### 关键代码实现

#### 1. [功能模块 1]
```javascript
// 代码示例或伪代码
function example() {
  // 实现逻辑说明
}
```
**实现说明**: [详细描述实现逻辑]

#### 2. [功能模块 2]
```javascript
// 代码示例或伪代码
```
**实现说明**: [详细描述实现逻辑]

### 数据流程
```
用户操作 → 数据处理 → 结果展示
```

### 状态管理
- **状态 1**: [描述]
- **状态 2**: [描述]

---

## 🎨 用户界面

### 布局结构
- **区域 1**: [描述]
- **区域 2**: [描述]

### 交互设计
- **操作 1**: [描述用户如何操作]
- **操作 2**: [描述用户如何操作]

### 响应式设计
- **桌面端**: [描述]
- **移动端**: [描述]

---

## 📝 使用说明

### 基本使用
1. 步骤 1
2. 步骤 2
3. 步骤 3

### 高级功能
- **功能 A**: [使用方法]
- **功能 B**: [使用方法]

### 使用示例
```
示例 1: [描述场景]
操作: [具体步骤]
结果: [预期结果]
```

---

## 🔧 技术细节

### API 使用
- **API 1**: [描述使用的浏览器 API]
- **API 2**: [描述使用的浏览器 API]

### 性能优化
- [优化点 1]
- [优化点 2]

### 浏览器兼容性
| 浏览器 | 最低版本 | 支持情况 |
|--------|---------|---------|
| Chrome | XX+ | ✅ 完全支持 |
| Firefox | XX+ | ✅ 完全支持 |
| Safari | XX+ | ✅ 完全支持 |
| Edge | XX+ | ✅ 完全支持 |

---

## 🐛 已知问题

- [ ] 问题 1: [描述]
- [ ] 问题 2: [描述]

---

## 🚀 未来计划

- [ ] 功能增强 1
- [ ] 功能增强 2
- [ ] 性能优化

---

## 📊 代码统计

- **总行数**: XXX 行
- **HTML**: XX 行
- **CSS**: XX 行
- **JavaScript**: XX 行
- **注释**: XX 行

---

## 🔍 关键词

`关键词1`, `关键词2`, `关键词3`, `单文件HTML`, `无构建`

---

## 📚 相关资源

- [Simon Willison 单文件哲学](https://simonwillison.net/2025/Dec/10/html-tools/)
- [相关文档链接]

---

*文档生成日期: YYYY-MM-DD*  
*遵循单文件 HTML 工具开发规范*
```

---

## 执行步骤

当检测到新增 HTML 工具文件时：

1. **识别新文件**
   - 检查是否是 `.html` 文件
   - 检查文件名是否符合工具命名规范
   - 确认文件包含工具元信息注释

2. **提取信息**
   - 从 HTML 文件中提取：
     - 工具名称（从 `<title>` 标签）
     - 代码行数（文件总行数）
     - CDN 依赖（从 `<script>` 和 `<link>` 标签）
     - 核心功能（从注释或代码结构）
     - 工具元信息（从文件末尾的注释块）

3. **生成文档**
   - 使用提取的信息填充模板
   - 创建与 HTML 文件同名的 `.md` 文件
   - 保存在同一目录

4. **提示用户**
   - 通知用户文档已生成
   - 提示用户完善文档内容
   - 建议用户检查和补充技术细节

---

## 示例

### 输入文件
```
canvas-gif-maker.html
```

### 输出文件
```
canvas-gif-maker.md
```

### 文档内容示例
```markdown
# Canvas 画图与 GIF 动图制作工具

**文件名**: `canvas-gif-maker.html`  
**创建日期**: 2025-12-22  
**代码行数**: 654 行  

## 📋 工具简介
在线 Canvas 画板工具，支持自由绘画、颜色调整、九宫格图片管理，可将多张图片合成 GIF 动图并下载。

## 🔗 外部依赖
| 库名称 | 版本 | CDN 链接 | 用途 |
|--------|------|----------|------|
| gifshot | 0.4.5 | https://cdn.jsdelivr.net/npm/gifshot@0.4.5/dist/gifshot.min.js | GIF 动图编码 |

...
```

---

## 注意事项

1. **自动提取限制**
   - 某些信息可能需要手动补充
   - 核心实现逻辑需要开发者详细描述
   - 使用示例需要根据实际情况编写

2. **文档维护**
   - HTML 文件更新时，同步更新文档
   - 定期检查文档的准确性
   - 保持文档与代码一致

3. **质量要求**
   - 文档应清晰易懂
   - 代码示例应准确可运行
   - 技术细节应详细完整

---

## 相关规则

- [single-html-file-tool](../single-html-file-tool/RULE.md) - 单文件 HTML 工具开发规范
- [impact-analysis](../impact-analysis/RULE.md) - 变更影响分析规范