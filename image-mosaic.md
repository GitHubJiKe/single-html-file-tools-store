# å›¾ç‰‡é©¬èµ›å…‹å¤„ç†å·¥å…·

**æ–‡ä»¶å**: `image-mosaic.html`  
**åˆ›å»ºæ—¥æœŸ**: 2025-01-20  
**æœ€åæ›´æ–°**: 2025-01-20  
**ä»£ç è¡Œæ•°**: 788 è¡Œ  

---

## ğŸ“‹ å·¥å…·ç®€ä»‹

ä¸€æ¬¾åŠŸèƒ½å¼ºå¤§çš„åœ¨çº¿å›¾ç‰‡é©¬èµ›å…‹å¤„ç†å·¥å…·ï¼Œæ”¯æŒä¸Šä¼ å›¾ç‰‡ã€é€‰æ‹©ä»»æ„åŒºåŸŸã€åº”ç”¨å¤šç§é©¬èµ›å…‹æ•ˆæœã€‚å®Œå…¨åŸºäºæµè§ˆå™¨ç«¯å®ç°ï¼Œæ— éœ€åç«¯æœåŠ¡å™¨ï¼Œä¿æŠ¤ç”¨æˆ·éšç§ã€‚æ”¯æŒåƒç´ åŒ–ã€æ¨¡ç³Šã€æ¯›ç»ç’ƒã€ç½‘æ ¼å››ç§é©¬èµ›å…‹ç±»å‹ï¼Œå¯è‡ªç”±è°ƒèŠ‚é©¬èµ›å…‹å¼ºåº¦ï¼Œé€‚ç”¨äºå›¾ç‰‡éšç§ä¿æŠ¤ã€æ•æ„Ÿä¿¡æ¯é®æŒ¡ç­‰åœºæ™¯ã€‚

---

## ğŸ¯ æ ¸å¿ƒåŠŸèƒ½

### åŠŸèƒ½åˆ—è¡¨
1. **å›¾ç‰‡ä¸Šä¼ ** - æ”¯æŒæœ¬åœ°å›¾ç‰‡ä¸Šä¼ ï¼Œè‡ªåŠ¨é€‚é…ç”»å¸ƒå°ºå¯¸
2. **åŒºåŸŸé€‰æ‹©** - é¼ æ ‡æ‹–æ‹½é€‰æ‹©éœ€è¦å¤„ç†çš„åŒºåŸŸ
3. **å¤šç§é©¬èµ›å…‹ç±»å‹** - åƒç´ åŒ–ã€æ¨¡ç³Šã€æ¯›ç»ç’ƒã€ç½‘æ ¼å››ç§æ•ˆæœ
4. **å‚æ•°è°ƒèŠ‚** - å¯è°ƒèŠ‚é©¬èµ›å…‹å¤§å°/å¼ºåº¦ï¼ˆ5-50ï¼‰
5. **å¤šæ¬¡å¤„ç†** - æ”¯æŒå¯¹åŒä¸€å›¾ç‰‡çš„ä¸åŒåŒºåŸŸå¤šæ¬¡åº”ç”¨é©¬èµ›å…‹
6. **å›¾ç‰‡é‡ç½®** - ä¸€é”®æ¢å¤åˆ°åŸå§‹å›¾ç‰‡çŠ¶æ€
7. **å›¾ç‰‡ä¸‹è½½** - å¯¼å‡ºå¤„ç†åçš„å›¾ç‰‡ï¼ˆPNG æ ¼å¼ï¼‰
8. **ç§»åŠ¨ç«¯æ”¯æŒ** - å®Œæ•´æ”¯æŒè§¦æ‘¸æ“ä½œ

### åŠŸèƒ½è¯¦æƒ…

- **å›¾ç‰‡ä¸Šä¼ ä¸é¢„è§ˆ**
  - å®ç°æ–¹å¼ï¼šä½¿ç”¨ FileReader API è¯»å–æœ¬åœ°å›¾ç‰‡æ–‡ä»¶
  - ç”¨æˆ·äº¤äº’ï¼šç‚¹å‡»"ä¸Šä¼ å›¾ç‰‡"æŒ‰é’®ï¼Œé€‰æ‹©å›¾ç‰‡æ–‡ä»¶
  - è‡ªåŠ¨è®¡ç®—ï¼šæ ¹æ®å›¾ç‰‡å°ºå¯¸è‡ªåŠ¨è°ƒæ•´ç”»å¸ƒå¤§å°ï¼ˆæœ€å¤§ 1200x800ï¼‰
  
- **åŒºåŸŸé€‰æ‹©**
  - å®ç°æ–¹å¼ï¼šCanvas é¼ æ ‡/è§¦æ‘¸äº‹ä»¶ç›‘å¬ï¼Œå®æ—¶ç»˜åˆ¶é€‰åŒºæ¡†
  - ç”¨æˆ·äº¤äº’ï¼šåœ¨å›¾ç‰‡ä¸ŠæŒ‰ä½é¼ æ ‡å·¦é”®æ‹–åŠ¨ï¼Œé‡Šæ”¾åå®Œæˆé€‰æ‹©
  - è§†è§‰åé¦ˆï¼šè™šçº¿è¾¹æ¡†ï¼ˆ#667eea é¢œè‰²ï¼Œ5px é—´éš”ï¼‰
  - åæ ‡ä¿®æ­£ï¼šè€ƒè™‘ Canvas ç¼©æ”¾æ¯”ä¾‹ï¼Œç¡®ä¿é€‰åŒºä½ç½®å‡†ç¡®

- **é©¬èµ›å…‹å¤„ç†**
  - **åƒç´ åŒ–ï¼ˆPixelateï¼‰**ï¼šå°†é€‰åŒºåˆ†å—ï¼Œæ¯å—ä½¿ç”¨å¹³å‡é¢œè‰²å¡«å……
  - **æ¨¡ç³Šï¼ˆBlurï¼‰**ï¼šå¯¹é€‰åŒºåº”ç”¨é«˜æ–¯æ¨¡ç³Šç®—æ³•
  - **æ¯›ç»ç’ƒï¼ˆGlassï¼‰**ï¼šéšæœºåç§»åƒç´ ä½ç½®ï¼Œäº§ç”Ÿæ¯›ç»ç’ƒæ•ˆæœ
  - **ç½‘æ ¼ï¼ˆGridï¼‰**ï¼šåˆ†å—å¹³å‡é¢œè‰² + æ·±è‰²ç½‘æ ¼çº¿

- **å‚æ•°æ§åˆ¶**
  - å®ç°æ–¹å¼ï¼šRange æ»‘å—æ§ä»¶ï¼Œå®æ—¶æ˜¾ç¤ºæ•°å€¼
  - ç”¨æˆ·äº¤äº’ï¼šæ‹–åŠ¨æ»‘å—è°ƒèŠ‚é©¬èµ›å…‹å¤§å°ï¼ˆ5-50ï¼‰
  - ä¸åŒç±»å‹çš„å«ä¹‰ï¼š
    - åƒç´ åŒ–/ç½‘æ ¼ï¼šå—å¤§å°ï¼ˆåƒç´ ï¼‰
    - æ¨¡ç³Šï¼šæ¨¡ç³ŠåŠå¾„ï¼ˆåƒç´ ï¼‰
    - æ¯›ç»ç’ƒï¼šåç§»å¼ºåº¦ï¼ˆåƒç´ ï¼‰

---

## ğŸ”— å¤–éƒ¨ä¾èµ–

### CDN é“¾æ¥
| åº“åç§° | ç‰ˆæœ¬ | CDN é“¾æ¥ | ç”¨é€” |
|--------|------|----------|------|
| æ—  | - | - | çº¯åŸç”Ÿå®ç°ï¼Œæ— å¤–éƒ¨ä¾èµ– |

### ä¾èµ–è¯´æ˜
- **æ— å¤–éƒ¨ä¾èµ–**ï¼šå®Œå…¨ä½¿ç”¨åŸç”Ÿ JavaScript å’Œ Canvas API å®ç°ï¼Œæ— éœ€ä»»ä½•ç¬¬ä¸‰æ–¹åº“

---

## ğŸ’» æ ¸å¿ƒå®ç°é€»è¾‘

### æŠ€æœ¯æ ˆ
- HTML5
- CSS3 (Flexbox, Grid, Gradient)
- JavaScript (ES6+)
- Canvas API
- FileReader API

### å…³é”®ä»£ç å®ç°

#### 1. å›¾ç‰‡ä¸Šä¼ ä¸åŠ è½½
```javascript
function handleImageUpload(e) {
  const file = e.target.files[0];
  const reader = new FileReader();
  reader.onload = (event) => {
    const img = new Image();
    img.onload = () => {
      originalImage = img;
      loadImage(img);
    };
    img.src = event.target.result;
  };
  reader.readAsDataURL(file);
}

function loadImage(img) {
  // è®¡ç®—åˆé€‚çš„ç”»å¸ƒå°ºå¯¸ï¼ˆä¿æŒå®½é«˜æ¯”ï¼‰
  const maxWidth = 1200;
  const maxHeight = 800;
  let width = img.width;
  let height = img.height;
  
  if (width > maxWidth) {
    height = (maxWidth / width) * height;
    width = maxWidth;
  }
  if (height > maxHeight) {
    width = (maxHeight / height) * width;
    height = maxHeight;
  }
  
  canvas.width = width;
  canvas.height = height;
  ctx.drawImage(img, 0, 0, width, height);
  currentImageData = ctx.getImageData(0, 0, canvas.width, canvas.height);
}
```
**å®ç°è¯´æ˜**ï¼šä½¿ç”¨ FileReader è¯»å–å›¾ç‰‡æ–‡ä»¶ï¼Œè½¬æ¢ä¸º Base64 Data URLï¼Œåˆ›å»º Image å¯¹è±¡åŠ è½½ã€‚æ ¹æ®æœ€å¤§å°ºå¯¸é™åˆ¶è‡ªåŠ¨ç¼©æ”¾ï¼Œä¿æŒåŸå§‹å®½é«˜æ¯”ã€‚å°†å›¾ç‰‡ç»˜åˆ¶åˆ° Canvas å¹¶ä¿å­˜ ImageData ç”¨äºåç»­é‡ç½®ã€‚

#### 2. åŒºåŸŸé€‰æ‹©ï¼ˆä¿®å¤åæ ‡åç§»ï¼‰
```javascript
function getCanvasCoordinates(clientX, clientY) {
  const rect = canvas.getBoundingClientRect();
  const scaleX = canvas.width / rect.width;
  const scaleY = canvas.height / rect.height;
  
  const x = (clientX - rect.left) * scaleX;
  const y = (clientY - rect.top) * scaleY;
  
  return { x, y };
}

canvas.addEventListener('mousedown', (e) => {
  const coords = getCanvasCoordinates(e.clientX, e.clientY);
  startX = coords.x;
  startY = coords.y;
  isSelecting = true;
});

canvas.addEventListener('mousemove', (e) => {
  if (!isSelecting) return;
  const coords = getCanvasCoordinates(e.clientX, e.clientY);
  endX = coords.x;
  endY = coords.y;
  
  ctx.putImageData(currentImageData, 0, 0);
  drawSelection(startX, startY, endX, endY);
});
```
**å®ç°è¯´æ˜**ï¼šé€šè¿‡ `getCanvasCoordinates` å‡½æ•°ä¿®æ­£åæ ‡ï¼Œè€ƒè™‘ Canvas çš„å®é™…å°ºå¯¸ä¸æ˜¾ç¤ºå°ºå¯¸çš„ç¼©æ”¾æ¯”ä¾‹ã€‚ç›‘å¬ mousedown/mousemove/mouseup äº‹ä»¶ï¼Œå®æ—¶ç»˜åˆ¶è™šçº¿é€‰åŒºæ¡†ã€‚æ”¯æŒè§¦æ‘¸äº‹ä»¶ï¼ˆtouchstart/touchmove/touchendï¼‰ä»¥å…¼å®¹ç§»åŠ¨ç«¯ã€‚

#### 3. åƒç´ åŒ–é©¬èµ›å…‹ç®—æ³•
```javascript
function applyPixelate(data, width, height, blockSize) {
  for (let y = 0; y < height; y += blockSize) {
    for (let x = 0; x < width; x += blockSize) {
      // è®¡ç®—å—çš„å¹³å‡é¢œè‰²
      let r = 0, g = 0, b = 0, count = 0;
      
      for (let dy = 0; dy < blockSize && y + dy < height; dy++) {
        for (let dx = 0; dx < blockSize && x + dx < width; dx++) {
          const i = ((y + dy) * width + (x + dx)) * 4;
          r += data[i];
          g += data[i + 1];
          b += data[i + 2];
          count++;
        }
      }
      
      r = Math.floor(r / count);
      g = Math.floor(g / count);
      b = Math.floor(b / count);
      
      // åº”ç”¨å¹³å‡é¢œè‰²åˆ°æ•´ä¸ªå—
      for (let dy = 0; dy < blockSize && y + dy < height; dy++) {
        for (let dx = 0; dx < blockSize && x + dx < width; dx++) {
          const i = ((y + dy) * width + (x + dx)) * 4;
          data[i] = r;
          data[i + 1] = g;
          data[i + 2] = b;
        }
      }
    }
  }
}
```
**å®ç°è¯´æ˜**ï¼šå°†å›¾åƒåˆ†æˆ blockSize Ã— blockSize çš„å°å—ï¼Œè®¡ç®—æ¯å—çš„å¹³å‡ RGB å€¼ï¼Œç„¶åç”¨å¹³å‡é¢œè‰²å¡«å……æ•´ä¸ªå—ã€‚ImageData çš„ data æ•°ç»„æŒ‰ RGBA é¡ºåºå­˜å‚¨ï¼Œæ¯ 4 ä¸ªå…ƒç´ ä»£è¡¨ä¸€ä¸ªåƒç´ ã€‚

#### 4. æ¨¡ç³Šé©¬èµ›å…‹ç®—æ³•
```javascript
function applyBlur(data, width, height, radius) {
  const tempData = new Uint8ClampedArray(data);
  const r = Math.floor(radius / 2);
  
  for (let y = 0; y < height; y++) {
    for (let x = 0; x < width; x++) {
      let rSum = 0, gSum = 0, bSum = 0, count = 0;
      
      // è®¡ç®—å‘¨å›´åƒç´ çš„å¹³å‡å€¼
      for (let dy = -r; dy <= r; dy++) {
        for (let dx = -r; dx <= r; dx++) {
          const nx = x + dx;
          const ny = y + dy;
          
          if (nx >= 0 && nx < width && ny >= 0 && ny < height) {
            const i = (ny * width + nx) * 4;
            rSum += tempData[i];
            gSum += tempData[i + 1];
            bSum += tempData[i + 2];
            count++;
          }
        }
      }
      
      const i = (y * width + x) * 4;
      data[i] = Math.floor(rSum / count);
      data[i + 1] = Math.floor(gSum / count);
      data[i + 2] = Math.floor(bSum / count);
    }
  }
}
```
**å®ç°è¯´æ˜**ï¼šç®€åŒ–ç‰ˆçš„ç›’çŠ¶æ¨¡ç³Šï¼ˆBox Blurï¼‰ç®—æ³•ã€‚å¯¹æ¯ä¸ªåƒç´ ï¼Œè®¡ç®—å…¶å‘¨å›´åŠå¾„èŒƒå›´å†…æ‰€æœ‰åƒç´ çš„å¹³å‡é¢œè‰²ã€‚ä½¿ç”¨ tempData é¿å…å¤„ç†è¿‡ç¨‹ä¸­å½±å“åç»­åƒç´ çš„è®¡ç®—ã€‚

#### 5. æ¯›ç»ç’ƒé©¬èµ›å…‹ç®—æ³•
```javascript
function applyGlass(data, width, height, intensity) {
  const tempData = new Uint8ClampedArray(data);
  
  for (let y = 0; y < height; y++) {
    for (let x = 0; x < width; x++) {
      // éšæœºåç§»
      const offsetX = Math.floor((Math.random() - 0.5) * intensity);
      const offsetY = Math.floor((Math.random() - 0.5) * intensity);
      
      let nx = x + offsetX;
      let ny = y + offsetY;
      
      // ç¡®ä¿åœ¨èŒƒå›´å†…
      nx = Math.max(0, Math.min(width - 1, nx));
      ny = Math.max(0, Math.min(height - 1, ny));
      
      const srcI = (ny * width + nx) * 4;
      const dstI = (y * width + x) * 4;
      
      data[dstI] = tempData[srcI];
      data[dstI + 1] = tempData[srcI + 1];
      data[dstI + 2] = tempData[srcI + 2];
    }
  }
}
```
**å®ç°è¯´æ˜**ï¼šé€šè¿‡éšæœºåç§»åƒç´ ä½ç½®å®ç°æ¯›ç»ç’ƒæ•ˆæœã€‚æ¯ä¸ªåƒç´ ä»å…¶å‘¨å›´éšæœºä½ç½®é‡‡æ ·é¢œè‰²ï¼Œäº§ç”Ÿæ‰­æ›²ã€æ¨¡ç³Šçš„è§†è§‰æ•ˆæœã€‚åç§»èŒƒå›´ç”± intensity å‚æ•°æ§åˆ¶ã€‚

#### 6. ç½‘æ ¼é©¬èµ›å…‹ç®—æ³•
```javascript
function applyGrid(data, width, height, gridSize) {
  for (let y = 0; y < height; y += gridSize) {
    for (let x = 0; x < width; x += gridSize) {
      // è®¡ç®—å—çš„å¹³å‡é¢œè‰²
      let r = 0, g = 0, b = 0, count = 0;
      // ... è®¡ç®—å¹³å‡é¢œè‰²ï¼ˆåŒåƒç´ åŒ–ï¼‰
      
      // åº”ç”¨é¢œè‰²å¹¶æ·»åŠ ç½‘æ ¼çº¿
      for (let dy = 0; dy < gridSize && y + dy < height; dy++) {
        for (let dx = 0; dx < gridSize && x + dx < width; dx++) {
          const i = ((y + dy) * width + (x + dx)) * 4;
          
          // ç½‘æ ¼è¾¹ç¼˜ä½¿ç”¨æ·±è‰²
          if (dx === 0 || dy === 0 || dx === gridSize - 1 || dy === gridSize - 1) {
            data[i] = Math.floor(r * 0.5);
            data[i + 1] = Math.floor(g * 0.5);
            data[i + 2] = Math.floor(b * 0.5);
          } else {
            data[i] = r;
            data[i + 1] = g;
            data[i + 2] = b;
          }
        }
      }
    }
  }
}
```
**å®ç°è¯´æ˜**ï¼šç»“åˆåƒç´ åŒ–å’Œè¾¹æ¡†ç»˜åˆ¶ã€‚å…ˆè®¡ç®—æ¯å—çš„å¹³å‡é¢œè‰²ï¼Œç„¶ååœ¨å—çš„è¾¹ç¼˜ç»˜åˆ¶æ·±è‰²çº¿æ¡ï¼ˆé¢œè‰²å€¼ Ã— 0.5ï¼‰ï¼Œå½¢æˆç½‘æ ¼æ•ˆæœã€‚

### æ•°æ®æµç¨‹
```
ç”¨æˆ·ä¸Šä¼ å›¾ç‰‡ â†’ FileReader è¯»å– â†’ Image åŠ è½½ â†’ Canvas ç»˜åˆ¶ â†’ ä¿å­˜ ImageData
     â†“
ç”¨æˆ·æ‹–æ‹½é€‰åŒº â†’ é¼ æ ‡äº‹ä»¶ â†’ è®¡ç®—åæ ‡ â†’ ç»˜åˆ¶é€‰åŒºæ¡†
     â†“
ç‚¹å‡»åº”ç”¨ â†’ è¯»å–é€‰åŒº ImageData â†’ åº”ç”¨é©¬èµ›å…‹ç®—æ³• â†’ putImageData å†™å›
     â†“
å¤šæ¬¡å¤„ç† / é‡ç½® / ä¸‹è½½
```

### çŠ¶æ€ç®¡ç†
- **originalImage**: åŸå§‹å›¾ç‰‡å¯¹è±¡ï¼ˆImageï¼‰ï¼Œç”¨äºé‡ç½®
- **currentImageData**: å½“å‰ç”»å¸ƒçš„ ImageDataï¼Œæ¯æ¬¡åº”ç”¨é©¬èµ›å…‹åæ›´æ–°
- **isSelecting**: æ˜¯å¦æ­£åœ¨é€‰æ‹©åŒºåŸŸï¼ˆå¸ƒå°”å€¼ï¼‰
- **startX, startY, endX, endY**: é€‰åŒºçš„èµ·å§‹å’Œç»“æŸåæ ‡

---

## ğŸ¨ ç”¨æˆ·ç•Œé¢

### å¸ƒå±€ç»“æ„
- **å¤´éƒ¨åŒºåŸŸ**: æ¸å˜èƒŒæ™¯ï¼ˆç´«è‰²ç³»ï¼‰ï¼Œå·¥å…·æ ‡é¢˜å’Œæè¿°
- **å·¥å…·æ **: æµ…ç°èƒŒæ™¯ï¼ŒåŒ…å«æ‰€æœ‰æ§åˆ¶æŒ‰é’®å’Œå‚æ•°é€‰æ‹©
  - å›¾ç‰‡æ“ä½œï¼šä¸Šä¼ æŒ‰é’®
  - é©¬èµ›å…‹ç±»å‹ï¼šä¸‹æ‹‰é€‰æ‹©æ¡†ï¼ˆ4 ç§ç±»å‹ï¼‰
  - é©¬èµ›å…‹å¤§å°ï¼šæ»‘å—æ§ä»¶ + æ•°å€¼æ˜¾ç¤º
  - æ“ä½œæŒ‰é’®ï¼šåº”ç”¨ã€é‡ç½®ã€ä¸‹è½½
- **è¯´æ˜åŒºåŸŸ**: é»„è‰²æç¤ºæ¡†ï¼Œæ˜¾ç¤ºä½¿ç”¨è¯´æ˜ï¼ˆä¸Šä¼ å›¾ç‰‡åæ˜¾ç¤ºï¼‰
- **ç”»å¸ƒåŒºåŸŸ**: ç™½è‰²èƒŒæ™¯ï¼Œå±…ä¸­æ˜¾ç¤º Canvas æˆ–ç©ºçŠ¶æ€æç¤º

### äº¤äº’è®¾è®¡
- **ä¸Šä¼ å›¾ç‰‡**: ç‚¹å‡»æŒ‰é’® â†’ æ–‡ä»¶é€‰æ‹©å¯¹è¯æ¡† â†’ å›¾ç‰‡åŠ è½½åˆ°ç”»å¸ƒ
- **é€‰æ‹©åŒºåŸŸ**: é¼ æ ‡æŒ‰ä¸‹ â†’ æ‹–åŠ¨ â†’ é‡Šæ”¾ï¼Œæ˜¾ç¤ºè™šçº¿é€‰åŒºæ¡†
- **è°ƒèŠ‚å‚æ•°**: æ‹–åŠ¨æ»‘å—ï¼Œå®æ—¶æ˜¾ç¤ºæ•°å€¼
- **åº”ç”¨é©¬èµ›å…‹**: ç‚¹å‡»æŒ‰é’® â†’ å¤„ç†é€‰åŒº â†’ Toast æç¤ºæˆåŠŸ
- **é‡ç½®å›¾ç‰‡**: ç‚¹å‡»æŒ‰é’® â†’ æ¢å¤åŸå§‹å›¾ç‰‡ â†’ Toast æç¤º
- **ä¸‹è½½å›¾ç‰‡**: ç‚¹å‡»æŒ‰é’® â†’ è‡ªåŠ¨ä¸‹è½½ PNG æ–‡ä»¶

### å“åº”å¼è®¾è®¡
- **æ¡Œé¢ç«¯**: 
  - å·¥å…·æ æ¨ªå‘æ’åˆ—ï¼Œå¤šä¸ªæ§ä»¶ç»„
  - Canvas æœ€å¤§å°ºå¯¸ 1200x800
  - æ‚¬åœæ•ˆæœï¼šæŒ‰é’®ä¸Šæµ®ã€é˜´å½±å¢å¼º
  
- **ç§»åŠ¨ç«¯**: 
  - å·¥å…·æ çºµå‘æ’åˆ—ï¼Œæ¯ä¸ªæ§ä»¶ç»„å æ»¡å®½åº¦
  - Canvas è‡ªé€‚åº”å±å¹•å®½åº¦
  - æ”¯æŒè§¦æ‘¸é€‰æ‹©åŒºåŸŸï¼ˆtouchstart/touchmove/touchendï¼‰
  - å­—ä½“å’ŒæŒ‰é’®å°ºå¯¸é€‚é…å°å±å¹•

---

## ğŸ“ ä½¿ç”¨è¯´æ˜

### åŸºæœ¬ä½¿ç”¨
1. ç‚¹å‡»"ä¸Šä¼ å›¾ç‰‡"æŒ‰é’®ï¼Œé€‰æ‹©è¦å¤„ç†çš„å›¾ç‰‡
2. åœ¨å›¾ç‰‡ä¸ŠæŒ‰ä½é¼ æ ‡å·¦é”®æ‹–åŠ¨ï¼Œé€‰æ‹©éœ€è¦æ·»åŠ é©¬èµ›å…‹çš„åŒºåŸŸ
3. é€‰æ‹©é©¬èµ›å…‹ç±»å‹ï¼ˆåƒç´ åŒ–/æ¨¡ç³Š/æ¯›ç»ç’ƒ/ç½‘æ ¼ï¼‰
4. è°ƒèŠ‚é©¬èµ›å…‹å¤§å°æ»‘å—ï¼Œè®¾ç½®åˆé€‚çš„å¼ºåº¦
5. ç‚¹å‡»"åº”ç”¨é©¬èµ›å…‹"æŒ‰é’®ï¼Œé©¬èµ›å…‹æ•ˆæœç«‹å³ç”Ÿæ•ˆ
6. ç‚¹å‡»"ä¸‹è½½å›¾ç‰‡"ä¿å­˜å¤„ç†åçš„å›¾ç‰‡

### é«˜çº§åŠŸèƒ½
- **å¤šæ¬¡å¤„ç†**: å¯ä»¥å¯¹åŒä¸€å›¾ç‰‡çš„ä¸åŒåŒºåŸŸå¤šæ¬¡åº”ç”¨é©¬èµ›å…‹ï¼Œæ¯æ¬¡åº”ç”¨åçŠ¶æ€ä¼šä¿å­˜
- **ç»„åˆæ•ˆæœ**: å¯ä»¥å¯¹ä¸åŒåŒºåŸŸä½¿ç”¨ä¸åŒç±»å‹çš„é©¬èµ›å…‹ï¼Œåˆ›é€ ç»„åˆæ•ˆæœ
- **ç²¾ç¡®æ§åˆ¶**: é€šè¿‡è°ƒèŠ‚é©¬èµ›å…‹å¤§å°ï¼ˆ5-50ï¼‰ï¼Œç²¾ç¡®æ§åˆ¶é®æŒ¡ç¨‹åº¦
- **ä¸€é”®é‡ç½®**: å¦‚æœä¸æ»¡æ„å¤„ç†æ•ˆæœï¼Œç‚¹å‡»"é‡ç½®å›¾ç‰‡"æ¢å¤åŸå§‹çŠ¶æ€

### ä½¿ç”¨ç¤ºä¾‹

**ç¤ºä¾‹ 1: éšç§ä¿æŠ¤**
- åœºæ™¯ï¼šæˆªå›¾ä¸­éœ€è¦éšè—èº«ä»½è¯å·ç 
- æ“ä½œï¼šä¸Šä¼ æˆªå›¾ â†’ é€‰æ‹©èº«ä»½è¯å·åŒºåŸŸ â†’ é€‰æ‹©"åƒç´ åŒ–" â†’ å¤§å°è®¾ä¸º 20 â†’ åº”ç”¨ â†’ ä¸‹è½½
- ç»“æœï¼šèº«ä»½è¯å·å®Œå…¨ä¸å¯è¯†åˆ«ï¼Œå…¶ä»–å†…å®¹æ¸…æ™°

**ç¤ºä¾‹ 2: äººè„¸æ¨¡ç³Š**
- åœºæ™¯ï¼šåˆç…§ä¸­éœ€è¦æ¨¡ç³ŠæŸäº›äººçš„è„¸éƒ¨
- æ“ä½œï¼šä¸Šä¼ ç…§ç‰‡ â†’ ä¾æ¬¡é€‰æ‹©æ¯ä¸ªäººè„¸åŒºåŸŸ â†’ é€‰æ‹©"æ¨¡ç³Š" â†’ å¤§å°è®¾ä¸º 30 â†’ å¤šæ¬¡åº”ç”¨ â†’ ä¸‹è½½
- ç»“æœï¼šäººè„¸æ¨¡ç³Šå¤„ç†ï¼Œä¿æŠ¤éšç§

**ç¤ºä¾‹ 3: è‰ºæœ¯æ•ˆæœ**
- åœºæ™¯ï¼šä¸ºå›¾ç‰‡æ·»åŠ åˆ›æ„æ•ˆæœ
- æ“ä½œï¼šä¸Šä¼ å›¾ç‰‡ â†’ é€‰æ‹©èƒŒæ™¯åŒºåŸŸ â†’ é€‰æ‹©"æ¯›ç»ç’ƒ" â†’ å¤§å°è®¾ä¸º 40 â†’ åº”ç”¨ â†’ ä¸‹è½½
- ç»“æœï¼šèƒŒæ™¯äº§ç”Ÿæ¯›ç»ç’ƒæ•ˆæœï¼Œçªå‡ºä¸»ä½“

---

## ğŸ”§ æŠ€æœ¯ç»†èŠ‚

### API ä½¿ç”¨
- **Canvas API**: 
  - `getContext('2d')`: è·å– 2D ç»˜å›¾ä¸Šä¸‹æ–‡
  - `drawImage()`: ç»˜åˆ¶å›¾ç‰‡åˆ°ç”»å¸ƒ
  - `getImageData()`: è¯»å–åƒç´ æ•°æ®
  - `putImageData()`: å†™å…¥åƒç´ æ•°æ®
  - `toBlob()`: å¯¼å‡ºä¸º Blob å¯¹è±¡
  
- **FileReader API**: 
  - `readAsDataURL()`: è¯»å–æ–‡ä»¶ä¸º Base64 ç¼–ç 

- **DOM API**:
  - `getBoundingClientRect()`: è·å–å…ƒç´ ä½ç½®å’Œå°ºå¯¸
  - Mouse Events: mousedown, mousemove, mouseup
  - Touch Events: touchstart, touchmove, touchend

### æ€§èƒ½ä¼˜åŒ–
- **å›¾ç‰‡å°ºå¯¸é™åˆ¶**: è‡ªåŠ¨ç¼©æ”¾å¤§å›¾åˆ° 1200x800ï¼Œå‡å°‘å†…å­˜å ç”¨å’Œå¤„ç†æ—¶é—´
- **ImageData å¤ç”¨**: ä½¿ç”¨ `currentImageData` ç¼“å­˜å½“å‰çŠ¶æ€ï¼Œé¿å…é‡å¤è¯»å–
- **è¾¹ç•Œæ£€æŸ¥**: ç®—æ³•ä¸­åŠ å…¥è¾¹ç•Œåˆ¤æ–­ï¼Œé¿å…æ•°ç»„è¶Šç•Œ
- **ä¸´æ—¶æ•°ç»„**: æ¨¡ç³Šå’Œæ¯›ç»ç’ƒç®—æ³•ä½¿ç”¨ `tempData` ä¸´æ—¶æ•°ç»„ï¼Œé¿å…å¤„ç†è¿‡ç¨‹ä¸­çš„æ•°æ®æ±¡æŸ“
- **åæ ‡ä¿®æ­£**: ä½¿ç”¨ `getCanvasCoordinates` å‡½æ•°ç»Ÿä¸€å¤„ç†åæ ‡è½¬æ¢ï¼Œæé«˜å‡†ç¡®æ€§

### æµè§ˆå™¨å…¼å®¹æ€§
| æµè§ˆå™¨ | æœ€ä½ç‰ˆæœ¬ | æ”¯æŒæƒ…å†µ | è¯´æ˜ |
|--------|---------|---------|------|
| Chrome | 51+ | âœ… å®Œå…¨æ”¯æŒ | Canvas API å®Œæ•´æ”¯æŒ |
| Firefox | 54+ | âœ… å®Œå…¨æ”¯æŒ | Canvas API å®Œæ•´æ”¯æŒ |
| Safari | 11+ | âœ… å®Œå…¨æ”¯æŒ | éœ€è¦ iOS 11+ |
| Edge | 79+ | âœ… å®Œå…¨æ”¯æŒ | Chromium å†…æ ¸ |
| IE | - | âŒ ä¸æ”¯æŒ | ä¸æ”¯æŒ ES6+ è¯­æ³• |

**å…¼å®¹æ€§è¯´æ˜**:
- ä½¿ç”¨ ES6+ è¯­æ³•ï¼ˆç®­å¤´å‡½æ•°ã€const/letã€æ¨¡æ¿å­—ç¬¦ä¸²ï¼‰
- ä¾èµ– Canvas API å’Œ FileReader API
- ç§»åŠ¨ç«¯éœ€è¦æ”¯æŒ Touch Events

---

## ğŸ› å·²çŸ¥é—®é¢˜

- [x] ~~é—®é¢˜ 1: é¼ æ ‡é€‰æ‹©æ¡†ä¸å®é™…ä½ç½®æœ‰åç§»~~ ï¼ˆå·²ä¿®å¤ï¼šå®ç° `getCanvasCoordinates` å‡½æ•°ä¿®æ­£åæ ‡ï¼‰
- [ ] é—®é¢˜ 2: å¤„ç†è¶…å¤§å›¾ç‰‡ï¼ˆ5000px+ï¼‰æ—¶å¯èƒ½å‡ºç°æ€§èƒ½é—®é¢˜
- [ ] é—®é¢˜ 3: æ¨¡ç³Šç®—æ³•åœ¨å¤§åŠå¾„æ—¶è®¡ç®—è¾ƒæ…¢ï¼ˆç®€å•å®ç°ï¼Œæœªä¼˜åŒ–ï¼‰

---

## ğŸš€ æœªæ¥è®¡åˆ’

- [ ] åŠŸèƒ½å¢å¼º 1: æ·»åŠ æ’¤é”€/é‡åšåŠŸèƒ½ï¼ˆå†å²è®°å½•æ ˆï¼‰
- [ ] åŠŸèƒ½å¢å¼º 2: æ”¯æŒæ›´å¤šé©¬èµ›å…‹ç±»å‹ï¼ˆæ²¹ç”»ã€æ°´å½©ã€è‰²å—ç­‰ï¼‰
- [ ] åŠŸèƒ½å¢å¼º 3: æ”¯æŒæ‰¹é‡å¤„ç†å¤šå¼ å›¾ç‰‡
- [ ] åŠŸèƒ½å¢å¼º 4: æ·»åŠ é¢„è®¾æ¨¡æ¿ï¼ˆå¿«é€Ÿé®æŒ¡å¸¸è§ä¿¡æ¯ä½ç½®ï¼‰
- [ ] æ€§èƒ½ä¼˜åŒ– 1: ä½¿ç”¨ Web Worker å¤„ç†å¤§å›¾
- [ ] æ€§èƒ½ä¼˜åŒ– 2: å®ç°æ›´é«˜æ•ˆçš„æ¨¡ç³Šç®—æ³•ï¼ˆé«˜æ–¯æ¨¡ç³Šä¼˜åŒ–ç‰ˆï¼‰
- [ ] ç”¨æˆ·ä½“éªŒ: æ·»åŠ é©¬èµ›å…‹é¢„è§ˆåŠŸèƒ½ï¼ˆåº”ç”¨å‰é¢„è§ˆæ•ˆæœï¼‰
- [ ] ç”¨æˆ·ä½“éªŒ: æ”¯æŒçŸ©å½¢ã€åœ†å½¢ã€è‡ªç”±ç»˜åˆ¶ç­‰å¤šç§é€‰åŒºå½¢çŠ¶

---

## ğŸ“Š ä»£ç ç»Ÿè®¡

- **æ€»è¡Œæ•°**: 788 è¡Œ
- **HTML**: çº¦ 150 è¡Œ
- **CSS**: çº¦ 280 è¡Œ
- **JavaScript**: çº¦ 350 è¡Œ
- **æ³¨é‡Š**: çº¦ 8 è¡Œ

**ä»£ç ç»“æ„**:
- å…¨å±€å˜é‡å£°æ˜: 15 è¡Œ
- äº‹ä»¶ç›‘å¬å™¨: 80 è¡Œ
- å›¾ç‰‡å¤„ç†å‡½æ•°: 120 è¡Œ
- é©¬èµ›å…‹ç®—æ³•å®ç°: 180 è¡Œ
- å·¥å…·å‡½æ•°: 50 è¡Œ

---

## ğŸ” å…³é”®è¯

`å›¾ç‰‡å¤„ç†`, `é©¬èµ›å…‹`, `éšç§ä¿æŠ¤`, `Canvas`, `åƒç´ åŒ–`, `æ¨¡ç³Š`, `æ¯›ç»ç’ƒ`, `å•æ–‡ä»¶HTML`, `æ— æ„å»º`, `çº¯å‰ç«¯`

---

## ğŸ“š ç›¸å…³èµ„æº

- [MDN Canvas API](https://developer.mozilla.org/zh-CN/docs/Web/API/Canvas_API)
- [MDN ImageData](https://developer.mozilla.org/zh-CN/docs/Web/API/ImageData)
- [MDN FileReader API](https://developer.mozilla.org/zh-CN/docs/Web/API/FileReader)
- [Simon Willison å•æ–‡ä»¶å“²å­¦](https://simonwillison.net/2025/Dec/10/html-tools/)
- [Canvas å›¾åƒå¤„ç†æ•™ç¨‹](https://developer.mozilla.org/zh-CN/docs/Web/API/Canvas_API/Tutorial/Pixel_manipulation_with_canvas)

---

## ğŸ¯ åº”ç”¨åœºæ™¯

1. **éšç§ä¿æŠ¤**: æˆªå›¾ä¸­éšè—èº«ä»½è¯ã€é“¶è¡Œå¡ã€æ‰‹æœºå·ç­‰æ•æ„Ÿä¿¡æ¯
2. **ç¤¾äº¤åˆ†äº«**: ç…§ç‰‡åˆ†äº«å‰æ¨¡ç³Šä¸æƒ³å±•ç¤ºçš„éƒ¨åˆ†
3. **æ–‡æ¡£å¤„ç†**: åˆåŒã€è¯ä¹¦ç­‰æ–‡æ¡£çš„æ•æ„Ÿä¿¡æ¯é®æŒ¡
4. **æ•™å­¦æ¼”ç¤º**: æ¼”ç¤ºæ–‡ç¨¿ä¸­ä¸´æ—¶é®æŒ¡ç­”æ¡ˆæˆ–æ•æ„Ÿå†…å®¹
5. **åˆ›æ„è®¾è®¡**: ä¸ºå›¾ç‰‡æ·»åŠ è‰ºæœ¯åŒ–çš„æ¨¡ç³Šæˆ–åƒç´ åŒ–æ•ˆæœ

---

## ğŸ’¡ è®¾è®¡äº®ç‚¹

1. **é›¶ä¾èµ–**: æ— éœ€ä»»ä½•å¤–éƒ¨åº“ï¼Œçº¯åŸç”Ÿå®ç°ï¼Œæ–‡ä»¶ä½“ç§¯å°
2. **éšç§ä¼˜å…ˆ**: æ‰€æœ‰å¤„ç†åœ¨æœ¬åœ°å®Œæˆï¼Œä¸ä¸Šä¼ åˆ°æœåŠ¡å™¨
3. **åæ ‡ç²¾ç¡®**: ä¿®å¤äº† Canvas ç¼©æ”¾å¯¼è‡´çš„åæ ‡åç§»é—®é¢˜
4. **å¤šç§ç®—æ³•**: æä¾› 4 ç§ä¸åŒé£æ ¼çš„é©¬èµ›å…‹æ•ˆæœ
5. **æ¸è¿›å¢å¼º**: æ”¯æŒå¤šæ¬¡å¤„ç†ï¼Œå¯ç»„åˆä¸åŒæ•ˆæœ
6. **å³æ—¶åé¦ˆ**: Toast æç¤ºã€æŒ‰é’®çŠ¶æ€ã€å®æ—¶é¢„è§ˆ
7. **å“åº”å¼è®¾è®¡**: å®Œç¾é€‚é…æ¡Œé¢å’Œç§»åŠ¨è®¾å¤‡
8. **ç”¨æˆ·å‹å¥½**: æ¸…æ™°çš„ä½¿ç”¨è¯´æ˜ï¼Œç›´è§‚çš„æ“ä½œæµç¨‹

---

*æ–‡æ¡£ç”Ÿæˆæ—¥æœŸ: 2025-01-20*  
*éµå¾ªå•æ–‡ä»¶ HTML å·¥å…·å¼€å‘è§„èŒƒ*